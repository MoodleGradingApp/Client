{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/feedback.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","routes","AppRoutingModule","RouterModule","relativeLinkResolution","FeedbackRow","SortColumn","SortDir","AppComponent","fb","feedbackService","showChart","averageScore","minScore","maxScoreStat","feedbackText","assignmentName","validFile","currentStudentIndex","isRowSelected","previousRow","selectedUser","feedbackCount","feedbackStrings","header","feedbackRows","isCheckDisabled","studentsSortedOn","ID","studentsSortedAscOrDsc","ASC","newRow","feedback","deduction","selected","push","feedbackCreate","chartOptions","series","name","data","chart","foreColor","height","type","toolbar","show","title","text","align","yaxis","xaxis","offsetY","offsetX","categories","states","hover","filter","$event","students","undefined","confirm","console","log","clearStudents","file","srcElement","files","parseFile","subscribe","result","Array","parseCSV","getStudents","correctFile","maxScore","getFeedbackStrings","updateCheckboxState","updateSeries","importDataAsJson","feedbackData","getFeedbacks","forEach","row","getAssignmentName","trs","document","querySelectorAll","classList","remove","add","index","currentStudentName","fullName","maxGrade","i","feedbackBoolean","length","checkbox","getElementById","toString","checked","increment","rowSelected","highlightRow","studentParser","addRow","splice","feedbackDelete","newValue","feedbackStringUpdate","feedbackDeductionUpdate","feedbackIndex","feedbackApply","feedbackUnapply","exportDataAsJson","perfectGrade","clearGrade","NAME","DESC","EMAIL","sort","s1","s2","email","localeCompare","TIMESTAMP","GRADE","FEEDBACK","chartData","updateChartData","updateFeedbackCount","updateAverageStat","updateMinMaxStats","exportCSV","event","window","opener","location","reload","previousStudent","nextStudent","perfectScore","clearScore","importCsvFileListener","saveProgress","importJsonFileListener","AppModule","BrowserModule","ReactiveFormsModule","BrowserAnimationsModule","FormsModule","NgxCsvParserModule","NgApexchartsModule","FeedbackService","ngxCsvParser","feedbacks","feedbackCounts","assignmentNameFromJSONFile","fileName","of","response","parse","delimiter","csvRecords","createStudentsFromCsv","cleanUpAssignmentTitle","currentDateTime","format","my_data_string","buildCSV","a","createElement","setAttribute","body","appendChild","blob","Blob","url","URL","createObjectURL","href","download","click","my_data","csv_file","line","feedbackString","createCSVFeedbackString","feedbackStringArray","n","res","replace","join","newStudent","num","identifier","split","status","grade","gradeChange","submissionLastModified","onlineText","gradeLastModified","fill","wholeThing","jsonWholeThing","JSON","stringify","dataStr","encodeURIComponent","reject","fr","FileReader","onload","lines","target","readAsText","points","newFeedback","gradeUpdate","newGrade","parseFloat","studentIndex","totalDeductions","Math","floor","toFixed","strs","numGrade","round","avg","count","min","max","arrayGrades","apply","environment","production","enableProdMode","platformBrowser","bootstrapModule","err","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","<!--\n-- Authors: Emily Costa and Michael Sisko\n--\n-- Citation(s):\n-- Autosizing Textarea: https://stackoverflow.com/questions/2803880/ by Martin Prestone\n--\n-->\n\n\n<div class=\"panel panel-default hide-outline\" id=\"master-panel\">\n    <p>Developed by: Emily Costa & Michael Sisko<br>Advised by: Victor Norman</p>\n    <h1 class=\"title\">\n        Grading Assistant\n        <span class=\"demo-text\"><a href=\"assets/demo_full.mp4\">See demo</a></span>\n    </h1>\n\n    <div class=\"row\">\n        <div class=\"col fixed-panel\" id=\"main-left-panel\">\n            <div class=\"panel panel-default hide-outline tight\">\n                <div class=\"panel panel-default\">\n                    <div class=\"panel panel-default hide-outline tight\" id=\"item-info\">\n                        <div id=\"assignment\">\n                            <label for=\"assignment\">Assignment Name:&nbsp;</label>\n                            <input\n                            class=\"input-box\"\n                            type=\"text\"\n                            id=\"title\"\n                            name=\"assignment\"\n                            placeholder=\"Ex. Homework 1\"\n                            data-testid=\"nameInput\"\n                            [(ngModel)]=\"assignmentName\"\n                            >\n                        </div>\n                        <div id=\"max-pts\">\n                            <label for=\"max-pts\">Max Points: {{maxScore}}</label>\n                        </div>\n                    </div>\n                    <div class=\"panel panel-default hide-outline tight btn-set\">\n                        <button type=\"button\" class=\"btn-primary-blue\" (click)=\"previousStudent()\" data-testid=\"prevStudentBtn\">Prev Student</button>\n                        <button type=\"button\" class=\"btn-primary-blue\" (click)=\"nextStudent()\" data-testid=\"nextStudentBtn\">Next Student</button>\n                        <button type=\"button\" class=\"btn-primary-blue\" (click)=\"showChart = !showChart\">{{ showChart ? \"Hide Stats\" : \"Show Stats\" }}</button>\n                    </div>\n                </div>\n                <div class=\"panel panel-default\">\n                    <div>\n                        <label for=\"Student\">Student Name: {{currentStudentName}}</label>\n                    </div>\n                    <div class=\"panel panel-default hide-outline tight btn-set\">\n                        <button type=\"button\" id=\"save-btn\" class=\"btn-primary-green\" (click)=\"perfectScore()\">Perfect Score</button>\n                        <button type=\"button\" id=\"save-btn\" class=\"btn-primary-green\" (click)=\"clearScore()\">Clear Score</button>\n                    </div>\n                    <br>\n                    <div class=\"feedback-table-container\">\n                        <table id=\"feedback-table\">\n                            <thead>\n                                <tr>\n                                    <th id=\"trash-header\">Delete</th>\n                                    <th>Feedback</th>\n                                    <th>Deduction</th>\n                                    <th>Apply</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr *ngFor=\"let row of feedbackRows; let i = index;\">\n                                    <td (click)=\"deleteRow(i)\">\n                                        <button\n                                            id=\"trash\"\n                                            data-testid=\"trashBtn\">\n                                            <i class=\"fa fa-trash\"></i>\n                                        </button>\n                                    </td>\n                                    <td>\n                                        <textarea\n                                            class=\"input-box\"\n                                            id=\"feedback\"\n                                            data-testid=\"feedbackInput\"\n                                            placeholder=\"Say something constructive...\"\n                                            [(ngModel)]=\"row.feedback\"\n                                            (ngModelChange)=\"onFeedbackChange($event, i)\"\n                                            type=\"text\"\n                                            name=\"text\"\n                                            oninput='this.style.height = \"\";\n                                            this.style.height = this.scrollHeight + 3 + \"px\"'>\n                                        </textarea>\n                                    </td>\n                                    <td>\n                                        <input\n                                            class=\"input-box\"\n                                            id=\"deduction\"\n                                            data-testid=\"deductionInput\"\n                                            placeholder=\"0\"\n                                            [(ngModel)]=\"row.deduction\"\n                                            (ngModelChange)=\"onDeductionChange($event, i)\"\n                                            type=\"number\"/>\n                                    </td>\n                                    <td>\n                                        <input\n                                            class=\"checkbox\"\n                                            id=\"checkbox{{i}}\"\n                                            data-testid=\"applyBtn\"\n                                            [(ngModel)]=\"row.selected\"\n                                            (ngModelChange)=\"onSelectedChange($event, i)\"\n                                            type=\"checkbox\"\n                                            [attr.disabled]=\"isCheckDisabled ? true : null\"/>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <br>\n                    <button\n                        type=\"button\"\n                        id=\"addFeedbackBtn\"\n                        class=\"btn-primary-blue\"\n                        (click)=\"addRow()\"\n                        data-testid=\"addFeedbackBtn\"\n                    >Add Feedback</button>\n                    <br><br>\n                </div>\n            </div>\n            <div *ngIf=\"showChart\" class=\"grade-stats\">\n                <apx-chart\n                    [series]=\"chartOptions.series\"\n                    [chart]=\"chartOptions.chart\"\n                    [xaxis]=\"chartOptions.xaxis\"\n                    [yaxis]=\"chartOptions.yaxis\"\n                    [title]=\"chartOptions.title\"\n                ></apx-chart>\n                <div class=\"feedback-stats\">\n                    <h4>Feedback Count:</h4>\n                    <tbody>\n                        <tr *ngFor=\"let stats of feedbackCount;\">\n                            <td class=\"feedback-count\">{{stats.deduction}}:</td>\n                            <td class=\"feedback-string\">{{stats.feedback}}</td>\n                        </tr>\n                    </tbody>\n                </div>\n                <div class=\"class-stats\">\n                    <h4>Grade Stats:</h4>\n                    <tbody>\n                        <tr>\n                            <td class=\"average-score\">Average Score: {{averageScore}}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"min-score\">Min Score: {{minScore}}</td>\n                        </tr>\n                        <tr>\n                            <td class=\"max-score\">Max Score: {{maxScoreStat}}</td>\n                        </tr>\n                    </tbody>\n                </div>\n            </div>\n        </div>\n    <div class=\"panel panel-default\" id=\"main-right-panel\">\n        <div class=\"csv-import-btn\">\n    <div class=\"panel panel-default tight hide-outline sticky outer-nowrap\">\n        <label\n            for=\"csvFileUpload\"\n            id=\"csvImportBtn\"\n            class=\"btn-primary-blue inner-nowrap\"\n        >Import File (exported from Moodle)</label>\n        <input\n            id=\"csvFileUpload\"\n            data-testid=\"importCSV\"\n            class=\"inner-nowrap sticky\"\n            type=\"file\"\n            #fileImportInput\n            name=\"File Upload\"\n            accept=\".csv\"\n            (change)=\"importCsvFileListener($event)\"/>\n        <p *ngIf=\"!validFile\" class=\"file-warning inner-nowrap\">*Invalid CSV File</p>\n        <button\n            type=\"button\"\n            class=\"btn-primary-blue\"\n            id=\"exportBtn\"\n            (click)=\"exportCSV()\"\n        >Export for Moodle</button>\n\n        <button type=\"button\" id=\"save-btn\" class=\"btn-primary-blue\"\n            (click)=\"saveProgress()\"\n        >Save Progress</button>\n        <label for=\"jsonFileUpload\" id=\"jsonImportBtn\" class=\"btn-primary-blue inner-nowrap\">\n            Load Progress</label>\n        <input\n            id=\"jsonFileUpload\"\n            data-testid=\"importJSON\"\n            class=\"inner-nowrap sticky\"\n            type=\"file\"\n            #fileImportInput\n            name=\"File Upload\"\n            accept=\".json\"\n            (change)=\"importJsonFileListener($event)\"/>\n    </div>\n    <div class=\"panel panel-default tight hide-outline csv-result-table\">\n        <table class=\"csvTable\">\n            <thead *ngIf=\"validFile\">\n                <tr>\n                    <!-- <th class=\"narrow csv-table-head\">#</th> -->\n                    <th class=\"narrow csv-table-head\" (click)=\"sortOnName()\">Name</th>\n                    <th class=\"narrow csv-table-head\" (click)=\"sortOnEmail()\">Email</th>\n                    <th class=\"narrow csv-table-head\" (click)=\"sortOnTimestamp()\">Timestamp</th>\n                    <th class=\"narrow csv-table-head\" (click)=\"sortOnGrade()\">Grade</th>\n                    <th class=\"wide csv-table-head\"   (click)=\"sortOnFeedback()\">Feedback</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr class=\"csv-data\" *ngFor=\"let i = index; let stud of students;\"\n                    (click)=\"rowSelected(i)\" (click)=\"highlightRow(i)\">\n                    <!-- <td class=\"narrow\">{{i+1}}</td> -->\n                    <td class=\"narrow\">{{stud.fullName}}</td>\n                    <td class=\"narrow\">{{stud.email}}</td>\n                    <td class=\"narrow\">{{stud.gradeLastModified}}</td>\n                    <td>{{stud.grade}}</td>\n                    <td class=\"wide\" id=\"feedback-column\">{{feedbackStrings[stud.num]}}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n","import { Component, HostListener } from '@angular/core';\nimport { FormBuilder, FormArray } from '@angular/forms';\nimport { ViewChild } from '@angular/core';\nimport { FeedbackService, HomeworkFeedback, StudentInfo } from './feedback.service';\nimport {\n  ChartComponent,\n  ApexAxisChartSeries,\n  ApexChart,\n  ApexYAxis,\n  ApexXAxis,\n  ApexTitleSubtitle,\n  ApexDataLabels,\n  ApexPlotOptions,\n  ApexAnnotations,\n  ApexFill,\n  ApexStroke,\n  ApexGrid,\n  ApexStates,\n  ApexTooltip\n} from \"ng-apexcharts\";\n\nexport type ChartOptions = {\n  series: ApexAxisChartSeries;\n  chart: ApexChart;\n  yaxis: ApexYAxis;\n  xaxis: ApexXAxis;\n  title: ApexTitleSubtitle;\n  dataLabels: ApexDataLabels;\n  plotOptions: ApexPlotOptions;\n  annotations: ApexAnnotations;\n  fill: ApexFill;\n  stroke: ApexStroke;\n  grid: ApexGrid;\n  states: ApexStates;\n  tooltip: ApexTooltip;\n};\n\nexport class FeedbackRow {\n    feedback: string;\n    deduction: number;\n    selected: boolean;\n}\n\n// These two enums are for sorting student info.\nenum SortColumn {\n  ID,\n  NAME,\n  EMAIL,\n  TIMESTAMP,\n  GRADE,\n  FEEDBACK,\n};\n\nenum SortDir {\n  ASC,\n  DESC,\n};\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\n\nexport class AppComponent {\n  public feedbackArray: FormArray;\n  public maxScore: string;\n  public feedbackInputText: string;\n  public showChart: boolean = false;\n  public averageScore: number = 0;\n  public minScore: number = 0;\n  public maxScoreStat: number = 0;\n\n  public feedbackText: string = '';\n\n  assignmentName: string = '';\n\n  @ViewChild(\"chart\") chart: ChartComponent;\n  public chartOptions: Partial<ChartOptions>;\n\n  validFile: boolean = true;\n  currentStudentName: string;\n  currentStudentIndex: number = -1;\n  isRowSelected: boolean =  false;\n  previousRow: number = 2;\n  selectedUser: Array<string>[] = [];\n\n  students: StudentInfo[];\n  feedbackCount: HomeworkFeedback[] = [];\n  feedbackStrings: string[] = [];\n  header: boolean = false;\n\n  feedbackRows: Array<FeedbackRow> = [];\n\n  // disable check boxes when no csv is imported\n  isCheckDisabled: boolean = true;\n\n  private studentsSortedOn = SortColumn.ID;\n  private studentsSortedAscOrDsc = SortDir.ASC;\n\n  constructor(private fb: FormBuilder, private feedbackService: FeedbackService) {\n    const newRow: FeedbackRow = {feedback: \"\", deduction: 0, selected: false};\n    this.feedbackRows.push(newRow);\n    this.feedbackService.feedbackCreate(null, null);\n\n    this.chartOptions = {\n      series: [\n        {\n          name: \"Grades\",\n          data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n        }\n      ],\n      chart: {\n        foreColor: '#FFFFFF',\n        height: 400,\n        type: \"bar\",\n        toolbar: {\n          show: false\n        }\n      },\n      title: {\n        text: \"Grade Distribution\",\n        align: \"center\"\n      },\n      yaxis: {\n        title: {\n          text: \"No. of Students\"\n        }\n      },\n      xaxis: {\n        title: {\n          text: \"Grades Percentage\",\n          offsetY: -10,\n          offsetX: -20,\n        },\n        categories: [\"0-9\", \"10-19\",  \"20-29\",  \"30-39\",  \"40-49\",  \"50-59\",  \"60-69\",  \"70-79\", \"80-89\", \"90-100\"]\n      },\n      states: {\n        hover: {\n          filter: {\n            type: \"none\"\n          }\n        }\n      },\n    };\n  }\n\n  async importCsvFileListener($event: any) {\n    // clear current table\n    // display warning if student table is not empty\n    // console.log(this.csvRecords);\n    // console.log(this.csvRecords != undefined);\n    if (this.students !== undefined) {\n      if (confirm(\"Are you sure you want to upload another CSV file? Your current work will be deleted!\")) {\n        // do nothing\n        console.log(\"User pressed Yes!\");\n      } else {\n        console.log(\"User pressed No!\");\n        return;\n      }\n    }\n\n    this.feedbackService.clearStudents();\n    // Select the file from the event\n    const file = $event.srcElement.files;\n    // wait for this to return\n    this.feedbackService.parseFile(file).subscribe(\n      result => {\n        if (result instanceof Array) {\n          this.feedbackService.parseCSV(result);\n          this.students = this.feedbackService.getStudents();\n          this.studentsSortedAscOrDsc = SortDir.ASC;\n          this.studentsSortedOn = SortColumn.ID;\n          this.validFile = this.feedbackService.correctFile;\n          if (this.validFile) {\n            // select and highlight first student\n            this.currentStudentIndex = 0;\n            this.maxScore = this.feedbackService.maxScore;\n            // get feedback strings to display\n            this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n            // enable checkboxes\n            this.isCheckDisabled = null;\n            // uncheck check boxes\n            this.updateCheckboxState();\n            // reset chart data\n            this.updateSeries();\n          } else {\n            this.maxScore = null;\n            console.log('Error Bad CSV');\n          }\n        } else {\n          // handle empty CSV\n          this.maxScore = null;\n          this.students = [];\n          console.log('Error', result);\n        }\n      }\n    )\n  }\n\n  async importJsonFileListener($event: any) {\n    await this.feedbackService.importDataAsJson($event.srcElement.files);\n    this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n    this.students = this.feedbackService.getStudents();\n    this.studentsSortedAscOrDsc = SortDir.ASC;\n    this.studentsSortedOn = SortColumn.ID;\n    this.validFile = true;\n    this.currentStudentIndex = -1;\n    this.maxScore = this.feedbackService.maxScore;\n    this.isCheckDisabled = null;\n\n    // build feedbackRows\n    const feedbackData: HomeworkFeedback[] = this.feedbackService.getFeedbacks();\n    this.feedbackRows = [];\n    feedbackData.forEach(row => {\n      this.feedbackRows.push({ feedback: row.feedback,\n                               deduction: row.deduction,\n                               selected: false });\n    });\n    this.assignmentName = this.feedbackService.getAssignmentName();\n  }\n\n  ngOnInit(): void {\n    // no-op\n  }\n\n  highlightRow(row: number) {\n    // add 'selected' class to tr element\n    const trs = document.querySelectorAll(\"tr.csv-data\");\n    if (! this.isRowSelected) {\n      this.isRowSelected = true;\n    } else {\n      trs[this.previousRow].classList.remove(\"selected\");\n    }\n    trs[row].classList.add(\"selected\");\n    this.previousRow = row;\n  }\n\n  rowSelected(index: number) {\n    this.currentStudentIndex = index;\n    this.currentStudentName = this.students[index].fullName;\n    this.maxScore = this.students[0].maxGrade;\n    // code to check boxes off when on a certain student\n    this.updateCheckboxState();\n    // console.log(this.csvRecords);\n  }\n\n  updateCheckboxState() {\n    if (this.currentStudentIndex === -1) {\n      return;\n    }\n    // console.log(\"Update Check Boxes\");\n    // console.log('student feedbackBoolean array = ', this.students[this.currentStudentIndex].feedbackBoolean);\n    for (let i = 0; i < this.students[this.currentStudentIndex].feedbackBoolean.length; i++) {\n      let checkbox = document.getElementById(\"checkbox\" + i.toString()) as HTMLInputElement;\n      if (this.students[this.currentStudentIndex].feedbackBoolean[i]) {\n        checkbox.checked = true;\n      } else {\n        checkbox.checked = false;\n      }\n    }\n  }\n\n  studentParser(increment: number): void {\n    if (this.currentStudentIndex === 0 && increment === -1 || this.currentStudentIndex === this.students.length-1 && increment === 1) {\n      return\n    }\n    this.currentStudentIndex += increment;\n    this.rowSelected(this.currentStudentIndex);\n    this.highlightRow(this.currentStudentIndex);\n    this.validFile = this.feedbackService.correctFile;\n  }\n\n  nextStudent(): void {\n    this.studentParser(1);\n  }\n\n  previousStudent(): void {\n    if (this.currentStudentIndex > 0) {\n      this.studentParser(-1);\n    }\n  }\n\n  addRow(): void {\n    const newRow: FeedbackRow = {feedback: \"\", deduction: 0, selected: false};\n    this.feedbackRows.push(newRow);\n    this.feedbackService.feedbackCreate(null, null);\n    // console.log(this.feedbackRows);\n  }\n\n  deleteRow(index: number) {\n    // add row so there will never be 0 rows\n    if (this.feedbackRows.length === 1) {\n      this.addRow();\n    }\n    this.feedbackRows.splice(index, 1);\n    this.feedbackService.feedbackDelete(index);\n\n    // update students' feedback string display\n    this.updateCheckboxState();\n    this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n    this.updateSeries();\n  }\n\n  onFeedbackChange(newValue: string, index: number) {\n    this.feedbackService.feedbackStringUpdate(index, newValue);\n    // update students' feedback string display\n    this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n    this.updateSeries();\n  }\n\n  onDeductionChange(newValue: number, index: number) {\n    this.feedbackService.feedbackDeductionUpdate(index, newValue);\n    this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n    this.updateSeries();\n  }\n\n  onSelectedChange(newValue: boolean, feedbackIndex: number) {\n    if (this.currentStudentIndex === 0) {\n      this.highlightRow(this.currentStudentIndex);\n    }\n\n    if (this.currentStudentIndex >= 0) {\n      if (newValue === true) {\n        this.feedbackService.feedbackApply(feedbackIndex, this.currentStudentIndex);\n      } else {\n        this.feedbackService.feedbackUnapply(feedbackIndex, this.currentStudentIndex);\n      }\n      // update students' feedback string display\n      this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n      this.updateSeries();\n    }\n  }\n\n  saveProgress() {\n    this.feedbackService.exportDataAsJson(this.assignmentName);\n  }\n\n  perfectScore() {\n    if (this.currentStudentIndex >= 0) {\n      this.feedbackService.perfectGrade(this.currentStudentIndex);\n    }\n    this.updateCheckboxState();\n    // update students' feedback string display\n    this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n    this.updateSeries();\n  }\n\n  clearScore() {\n    if (this.currentStudentIndex >= 0) {\n      this.feedbackService.clearGrade(this.currentStudentIndex);\n    }\n    this.updateCheckboxState();\n    // update students' feedback string display\n    this.feedbackStrings = this.feedbackService.getFeedbackStrings();\n    console.log(this.feedbackCount);\n    this.updateSeries();\n  }\n\n  sortOnName() {\n    console.log(\"hi from sort on name\");\n    if (this.studentsSortedOn !== SortColumn.NAME) {\n      this.studentsSortedOn = SortColumn.NAME;\n      this.studentsSortedAscOrDsc = SortDir.ASC;\n    } else {\n      // already sorted on this column, so switch direction\n      this.studentsSortedAscOrDsc = this.studentsSortedAscOrDsc === SortDir.ASC ? SortDir.DESC : SortDir.ASC;\n    }\n  }\n\n  sortOnEmail() {\n    console.log(\"hi from sort on email\");\n    if (this.studentsSortedOn !== SortColumn.EMAIL) {\n      this.studentsSortedOn = SortColumn.EMAIL;\n      this.studentsSortedAscOrDsc = SortDir.ASC;\n    } else {\n      // already sorted on this column, so switch direction\n      this.studentsSortedAscOrDsc = this.studentsSortedAscOrDsc === SortDir.ASC ? SortDir.DESC : SortDir.ASC;\n    }\n    this.students = this.students.sort((s1, s2) => {\n      return this.studentsSortedAscOrDsc === SortDir.ASC ?\n        s2.email.localeCompare(s1.email) : s1.email.localeCompare(s2.email);\n    });\n  }\n\n  sortOnTimestamp() {\n    console.log(\"hi from sort on timestamp\");\n    if (this.studentsSortedOn !== SortColumn.TIMESTAMP) {\n      this.studentsSortedOn = SortColumn.TIMESTAMP;\n      this.studentsSortedAscOrDsc = SortDir.ASC;\n    }else {\n      // already sorted on this column, so switch direction\n      this.studentsSortedAscOrDsc = this.studentsSortedAscOrDsc === SortDir.ASC ? SortDir.DESC : SortDir.ASC;\n    }\n  }\n\n  sortOnGrade() {\n    console.log(\"hi from sort on grade\");\n    if (this.studentsSortedOn !== SortColumn.GRADE) {\n      this.studentsSortedOn = SortColumn.GRADE;\n      this.studentsSortedAscOrDsc = SortDir.ASC;\n    } else {\n      // already sorted on this column, so switch direction\n      this.studentsSortedAscOrDsc = this.studentsSortedAscOrDsc === SortDir.ASC ? SortDir.DESC : SortDir.ASC;\n    }\n  }\n\n  sortOnFeedback() {\n    console.log(\"hi from sort on feedback\");\n    if (this.studentsSortedOn !== SortColumn.FEEDBACK) {\n      this.studentsSortedOn = SortColumn.FEEDBACK;\n      this.studentsSortedAscOrDsc = SortDir.ASC;\n    } else {\n      // already sorted on this column, so switch direction\n      this.studentsSortedAscOrDsc = this.studentsSortedAscOrDsc === SortDir.ASC ? SortDir.DESC : SortDir.ASC;\n    }\n  }\n\n  // To Do: Delete Later! Useful for Debugging!\n  // tempFunction() {\n  //   this.feedback = this.feedbackService.feedbackRead();\n  //   console.log(this.feedback);\n  //   console.log(this.feedbackCount);\n  //   console.log(this.csvRecords);\n  // }\n\n  updateSeries() {\n    let chartData: Array<number> = this.feedbackService.updateChartData();\n    // update data in chart\n    this.chartOptions.series = [{\n      data: chartData\n    }];\n    this.feedbackCount = this.feedbackService.updateFeedbackCount();\n    this.averageScore = this.feedbackService.updateAverageStat();\n    [this.minScore, this.maxScoreStat] = this.feedbackService.updateMinMaxStats();\n    // console.log(\"update chart data!\")\n  }\n\n  exportCSV(): void {\n    this.feedbackService.exportCSV(this.assignmentName);\n  }\n\n  // Warn user if reloading, closing, navigating away from page.\n  @HostListener('window:beforeunload', ['$event'])\n  unloadHandler(event: Event) {\n    window.opener.location.reload();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule} from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { NgxCsvParserModule } from 'ngx-csv-parser';\nimport { NgApexchartsModule } from 'ng-apexcharts';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    NgxCsvParserModule,\n    NgApexchartsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { NgxCSVParserError, NgxCsvParser } from 'ngx-csv-parser';\nimport * as dayjs from 'dayjs';\n\nexport interface StudentInfo {\n  num: number,        // index of this record.\n  email: string,\n  fullName: string,\n  grade: string,\n  gradeChange: string,\n  identifier: string,\n  gradeLastModified: string,\n  submissionLastModified: string,\n  maxGrade: string,\n  onlineText: string,\n  status: string,\n  feedbackBoolean: Array<boolean>,\n}\n\nexport interface HomeworkFeedback {\n  feedback: string,\n  deduction: number\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedbackService {\n\n  constructor(private ngxCsvParser: NgxCsvParser) { }\n\n  private students: StudentInfo[] = [];\n  private feedbacks: HomeworkFeedback[] = [];\n  private feedbackCounts: HomeworkFeedback[] = [];\n\n  private assignmentNameFromJSONFile = '';\n\n  public correctFile: boolean;\n  public maxScore: string;\n\n  parseFile(fileName: any) : Observable<any[] | NgxCSVParserError | string> {\n    // Check for empty CSV file\n    if (fileName[0][\"size\"] > 3) {\n      this.correctFile = true;\n    } else {\n      this.correctFile = false;\n      this.clearStudents()\n      return of(\"File is empty\");\n    }\n\n    // reference: https://www.npmjs.com/package/ngx-csv-parser\n    // Parse the file you want to select for the operation along with the configuration\n    const response = this.ngxCsvParser.parse(fileName[0], { header: true, delimiter: ',' })\n    return response;\n  }\n\n  parseCSV(csvRecords: Array<any>): void {\n    // console.log('Parser Result', result);\n\n    // check headers if correct CSV file\n    if (\n      csvRecords[0] === undefined ||\n      csvRecords[0][\"Identifier\"] === undefined ||\n      csvRecords[0][\"Email address\"] === undefined ||\n      csvRecords[0][\"Feedback comments\"] === undefined ||\n      csvRecords[0][\"Full name\"] === undefined ||\n      csvRecords[0][\"Grade\"] === undefined ||\n      csvRecords[0][\"Grade can be changed\"] === undefined ||\n      csvRecords[0][\"Identifier\"] === undefined ||\n      csvRecords[0][\"Last modified (grade)\"] === undefined ||\n      csvRecords[0][\"Last modified (submission)\"] === undefined ||\n      csvRecords[0][\"Maximum Grade\"] === undefined ||\n      csvRecords[0][\"Online text\"] === undefined ||\n      csvRecords[0][\"Status\"] === undefined) {\n      console.log(\"Wrong CSV File!\");\n      this.correctFile = false;\n      this.clearStudents();\n    } else {\n      console.log(\"Correct CSV File!\");\n      this.correctFile = true;\n      this.createStudentsFromCsv(csvRecords);\n    }\n  }\n\n  // Make a download button\n  public exportCSV(assignmentName: string) {\n\n    // Remove forbidden characters from assignment title\n    const title = this.cleanUpAssignmentTitle(assignmentName);\n\n    // Get current date and time\n    const currentDateTime = dayjs().format('_YYYY-MM-DD');\n\n    // Pass string into handle for data-table\n    const my_data_string = this.buildCSV(this.students);\n\n    // Create an href element in the DOM\n    let a = document.createElement(\"a\");\n    a.setAttribute('style', 'display:none;');\n    document.body.appendChild(a);\n\n    // Create object of type csv text file\n    const blob = new Blob([my_data_string], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n\n    a.href = url;\n    a.download = title + currentDateTime + '.csv';\n    a.click();\n  }\n\n  // This manually constructs our CSV file string\n  private buildCSV(students: Array<StudentInfo>): string {\n    // console.log(JSON.stringify(students, null, 2));\n    let my_data = students;\n    let csv_file = '';\n\n    // create header row\n    const row = 'Identifier,Full name,Email address,Status,Grade,Maximum Grade,Grade can be changed,Last modified (submission),Online text,Last modified (grade),Feedback comments'\n\n    // Add row and newline + carriage-return\n    csv_file += row + '\\r\\n';\n\n    // Build and add lines to csv_file\n    for (let i = 0; i < my_data.length; i++) {\n        let line = '';\n        for (let index in my_data[i]) {\n          if (line !== '') {\n            line += ','   // do comma-separation\n          }\n          if (index === 'gradeLastModified' || index === 'submissionLastModified') {\n            line += '\"' + my_data[i][index] + '\"'\n          } else if (index == 'feedbackBoolean') {\n            let feedbackString = this.createCSVFeedbackString(my_data[i][index])\n            // wrap each field in double quotes\n            line += '\"' + feedbackString + '\"'\n            // console.log(\"Return from function:\" + my_data[i][index])\n          }\n          else {\n            // console.log('mydata[i][index] = ', my_data[i][index])\n            line += my_data[i][index];\n          }\n\n        }\n        csv_file += line + '\\r\\n';\n    }\n\n    // End of file\n    return csv_file;\n  }\n\n  private createCSVFeedbackString(feedback: Array<boolean>): string {\n    let feedbackStringArray = [];\n    for (let n = 0; n < this.feedbacks.length; n++) {\n      if (feedback[n]) {\n        // if the feedback string has a double quote in it, add an extra one.\n        const res = this.feedbacks[n].feedback.replace(/\"/g, '\"\"');\n        feedbackStringArray.push(\"-\" + this.feedbacks[n].deduction + \": \" + res)\n      }\n    }\n    const feedbackString = feedbackStringArray.join('; ')\n    return feedbackString;\n  }\n\n  private createStudentsFromCsv(csvRecords: Array<{}>) {\n    // console.log(JSON.stringify(csvRecords, null, 2));\n    // put csv-parser results into newStudent[]\n    for (let i = 0; i < csvRecords.length; i++) {\n      // initialize each student object\n      const newStudent: StudentInfo = {\n        num: i,\n        identifier: csvRecords[i][\"Identifier\"],\n        fullName: csvRecords[i][\"Full name\"],\n        email: csvRecords[i][\"Email address\"].split(\"@\", 1)[0],  // only the username part\n        status: csvRecords[i][\"Status\"],\n        grade: csvRecords[i][\"Grade\"],\n        maxGrade: csvRecords[i][\"Maximum Grade\"],\n        gradeChange: csvRecords[i][\"Grade can be changed\"],\n        submissionLastModified: csvRecords[i][\"Last modified (submission)\"],\n        onlineText: csvRecords[i][\"Online text\"],\n        gradeLastModified: csvRecords[i][\"Last modified (grade)\"],\n        // Could be that the user added multiple feedbacks before loading the csv file\n        // (seems unlikely but could be done). So, we need to initialize feedbackBoolean array\n        // to have false for each feedback in existence already.\n        feedbackBoolean: new Array(this.feedbacks.length).fill(false),\n      }\n      this.students.push(newStudent);\n    }\n    this.maxScore = this.students[0].maxGrade;\n  }\n\n  clearStudents() {\n    this.students = [];\n  }\n\n  clearFeedbacks() {\n    this.feedbacks = [];\n    this.feedbackCounts = [];\n  }\n\n  private cleanUpAssignmentTitle(assignmentName: string): string {\n    // Remove forbidden characters from assignment title and replace spaces with underscores\n    assignmentName = assignmentName.replace(/[#<>^\\-~$%!&*,.;\\\\\"?'\\/{}:@+`|=\\[\\]]/g, '')\n    assignmentName = assignmentName.replace(/ /g, '_');\n    if (assignmentName === '') {\n      assignmentName = \"assignment\";\n    }\n    return assignmentName;\n  }\n\n  exportDataAsJson(assignmentName: string) {\n    const wholeThing = {\n      \"students\": this.students,\n      \"feedbacks\": this.feedbacks,\n      \"assignmentName\": assignmentName,\n    };\n    const jsonWholeThing = JSON.stringify(wholeThing);\n\n    const title = this.cleanUpAssignmentTitle(assignmentName) + \".json\";\n\n    const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(wholeThing));\n\n    // https://stackoverflow.com/questions/19721439/download-json-object-as-a-file-from-browser\n    let a = document.createElement(\"a\");\n    a.setAttribute('style', 'display:none;');\n    document.body.appendChild(a);\n    a.setAttribute(\"href\", dataStr);\n    a.setAttribute(\"download\", title);\n    a.click();\n    a.remove();\n  }\n\n  importDataAsJson(files: File[]): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const file = files[0];\n      const fr = new FileReader();\n      fr.onload = (e) => {\n        let lines = e.target.result;\n        const res = JSON.parse(lines as string);\n        // console.log('got json file parsed: res = ', JSON.stringify(res, null, 2));\n        this.students = res[\"students\"];\n        this.feedbacks = res[\"feedbacks\"];\n        this.assignmentNameFromJSONFile = res[\"assignmentName\"];\n        this.maxScore = this.students[0].maxGrade;\n        this.correctFile = true;\n        resolve();\n      };\n      fr.readAsText(file);\n    });\n  }\n\n  getStudents(): StudentInfo[] {\n    return this.students;\n  }\n\n  getFeedbacks(): HomeworkFeedback[] {\n    return this.feedbacks;\n  }\n\n  getAssignmentName(): string {\n    return this.assignmentNameFromJSONFile;\n  }\n\n  feedbackCreate(feedbackString: string, points: number): void {\n    const newFeedback: HomeworkFeedback = {\n      feedback: feedbackString,\n      deduction: points\n    }\n    this.feedbacks.push(newFeedback);\n\n    // add this feedback to the student feedback array as false\n    for (let i = 0; i < this.students.length; i++) {\n      this.students[i].feedbackBoolean.push(false);\n    }\n  }\n\n  feedbackRead(): HomeworkFeedback[] {\n    return this.feedbacks;\n  }\n\n  feedbackStringUpdate(index: number, feedbackString: string): void {\n    // update values in feedback array\n    this.feedbacks[index].feedback = feedbackString;\n  }\n\n  feedbackDeductionUpdate(index: number, points: number): void {\n    this.feedbacks[index].deduction = points;\n    for (let i = 0; i < this.students.length; i++) {\n      if (this.students[i].feedbackBoolean[index]) {\n        this.gradeUpdate(i);\n      }\n    }\n  }\n\n  feedbackDelete(index: number): void {\n    // let response = window.confirm(\"Deleting this option will remove it universally. Are you sure?\");\n    // if (response) {\n    // delete feedback in students' boolean feedback arrays\n    for (let i = 0; i < this.students.length; i++) {\n      if (this.students[i].feedbackBoolean[index]) {\n        // add deduction value to student grade before delete\n        const newGrade = parseFloat(this.students[i].grade) + this.feedbacks[index].deduction\n        this.students[i].grade = newGrade.toString();\n      }\n      this.students[i].feedbackBoolean.splice(index,1);\n    }\n\n    // remove 1 element at index\n    this.feedbacks.splice(index,1);\n    // }\n  }\n\n  feedbackApply(feedbackIndex: number, studentIndex: number): void {\n    this.students[studentIndex].feedbackBoolean[feedbackIndex] = true;\n    // update grade\n    this.gradeUpdate(studentIndex);\n  }\n\n  feedbackUnapply(feedbackIndex: number, studentIndex: number): void {\n    this.students[studentIndex].feedbackBoolean[feedbackIndex] = false;\n    this.gradeUpdate(studentIndex);\n  }\n\n  gradeUpdate(studentIndex: number): void {\n    let totalDeductions = 0;\n    for (let n = 0; n < this.feedbacks.length; n++) {\n      if (this.students[studentIndex].feedbackBoolean[n]) {\n        totalDeductions = totalDeductions + this.feedbacks[n].deduction;\n      }\n    }\n\n    let newGrade = parseFloat(this.maxScore) - totalDeductions;\n    // if score is not an int round to 1 decimal place\n    const result = (newGrade - Math.floor(newGrade)) !== 0;\n    if (result) {\n      newGrade = parseFloat(newGrade.toFixed(1));\n    }\n\n    this.students[studentIndex].grade = newGrade.toString();\n  }\n\n  perfectGrade(studentIndex: number): void {\n    this.students[studentIndex].grade = this.maxScore;\n    // set all boolean feedback to false\n    for (let n = 0; n < this.feedbacks.length; n++) {\n      this.students[studentIndex].feedbackBoolean[n] = false;\n    }\n  }\n\n  clearGrade(studentIndex:number): void {\n    this.students[studentIndex].grade = \"\";\n    // set all boolean feedback to false\n    for (let n = 0; n < this.feedbacks.length; n++) {\n      this.students[studentIndex].feedbackBoolean[n] = false;\n    }\n  }\n\n  // Return an array of arrays of strings -- outer array is per student, inner array is feedback strings\n  // for that student.\n  getFeedbackStrings(): string[] {\n    let res = [];\n    for (let i = 0; i < this.students.length; i++) {\n      let strs = [];\n      for (let n = 0; n < this.feedbacks.length; n++) {\n        if (this.students[i].feedbackBoolean[n]) {\n          strs.push(\"-\" + this.feedbacks[n].deduction + \": \" + this.feedbacks[n].feedback);\n        }\n      }\n      // join all deduction strings together with semi-colon separator.\n      res.push(strs.join('; '));\n    }\n    return res;\n  }\n\n  updateChartData(): Array<number> {\n    let chartData: Array<number> = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    // loop through each student to put data into histogram\n    for (let i = 0; i < this.students.length; i++) {\n      if (this.students[i].grade != \"\") {\n        const numGrade: number = Math.round((parseFloat(this.students[i].grade) / parseFloat(this.maxScore)) * 100);\n        // console.log(parseFloat(this.maxScore));\n        // console.log(numGrade);\n        // make sure in range 0 to 100\n        if (numGrade >= 0 && numGrade <= 100) {\n          if (numGrade <= 9) {\n            // 0 to 9\n            chartData[0] += 1;\n          } else if (numGrade <= 19) {\n            // 10 to 19\n            chartData[1] += 1;\n          } else if (numGrade <= 29) {\n            // 20 to 29\n            chartData[2] += 1;\n          } else if (numGrade <= 39) {\n            // 30 to 39\n            chartData[3] += 1;\n          } else if (numGrade <= 49) {\n            // 40 to 49\n            chartData[4] += 1;\n          } else if (numGrade <= 59) {\n            // 50 to 59\n            chartData[5] += 1;\n          } else if (numGrade <= 69) {\n            // 60 to 69\n            chartData[6] += 1;\n          } else if (numGrade <= 79) {\n            // 70 to 79\n            chartData[7] += 1;\n          } else if (numGrade <= 89) {\n            // 80 to 89\n            chartData[8] += 1;\n          } else if (numGrade <= 100) {\n            // 90 to 100\n            chartData[9] += 1;\n          }\n        }\n      }\n    }\n    return chartData;\n  }\n\n  updateFeedbackCount(): Array<HomeworkFeedback> {\n    // count the number of times each feedback is applied\n    // the deduction value is the count vlaue\n\n    this.feedbackCounts = []\n\n    for (let n = 0; n < this.feedbacks.length; n++) {\n      if (this.feedbacks[n].feedback != \"\") {\n        const newFeedback: HomeworkFeedback = {\n          feedback: this.feedbacks[n].feedback,\n          deduction: 0\n        }\n        this.feedbackCounts.push(newFeedback);\n      }\n      for (let i = 0; i < this.students.length; i++) {\n        if (this.students[i].feedbackBoolean[n]) {\n          this.feedbackCounts[n].deduction += 1;\n        }\n      }\n    }\n    return this.feedbackCounts;\n  }\n\n  updateAverageStat(): number {\n    let avg: number = 0;\n    let count: number = 0;\n    for (let i = 0; i < this.students.length; i++) {\n      if (this.students[i].grade != \"\") {\n        const numGrade: number = Math.round((parseFloat(this.students[i].grade) / parseFloat(this.maxScore)) * 100);\n        avg += numGrade;\n        count += 1;\n      }\n    }\n    return (avg / count)\n  }\n\n  updateMinMaxStats(): Array<number> {\n    let min: number = 0;\n    let max: number = 0;\n    let arrayGrades: Array<number> =[];\n\n    for (let i = 0; i < this.students.length; i++) {\n      if (this.students[i].grade != \"\") {\n        const numGrade: number = Math.round((parseFloat(this.students[i].grade) / parseFloat(this.maxScore)) * 100);\n        arrayGrades.push(numGrade);\n      }\n    }\n    min = Math.min.apply(Math, arrayGrades)\n    max = Math.max.apply(Math, arrayGrades)\n    return [min, max]\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}